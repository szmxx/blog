---
import BaseHead from "@/components/BaseHead.astro";
import Header from "@/components/Header.astro";
import Footer from "@/components/Footer.astro";
const SITE_TITLE = "友链页面";
const SITE_DESCRIPTION = "友链页面";
const year = new Date().getFullYear();

const FriendList = [
  {
    name: "在线ps",
    desc: "在线实现图片编辑与在线p图",
    link: "https://zaixianps.net",
    logo: "https://zaixianps.net/images/favicon.png",
  },
  {
    name: "ASCII-ART",
    desc: "ASCII-ART",
    link: "https://markyun.github.io/",
    logo: "https://markyun.github.io/images/avatar.png",
  },
  {
    name: "淡白的记忆",
    desc: "淡白的记忆",
    link: "https://p00q.cn/",
    logo: "https://p00q.cn/res/favicon.ico",
  },
  {
    name: "御坂研究所",
    desc: "御坂研究所",
    link: "https://www.nosuchfield.com",
    logo: "https://www.nosuchfield.com/favicon.ico",
  },
  {
    name: "印记",
    desc: "印记",
    link: "https://yinji.org/",
    logo: "https://yinji.org/favicon.ico",
  },
  {
    name: "编程随想",
    desc: "编程随想",
    link: "https://blog.zshnb.com/",
    logo: "https://blog.zshnb.com/images/favicon-32x32.png",
  },
];
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
  </head>
  <body>
    <Header />
    <main class="center">
      <section
        class="min-h-75vh w-1/2 <lg:w-full overflow-hidden flex flex-col gap-4"
      >
        <div>
          本站已建立，欢迎各位 uu 们共建友链，如需申请，请到 <a
            href="https://github.com/szmxx/blog/issues/1"
            target="_blank"
            class="text-primary underline">这里</a
          > 留言～
        </div>
        <div class="px-4 pt-2 pb-4 bg-color rounded">
          <div class="flex items-center justify-between">
            <h3>本站信息</h3>
            <div class="flex items-center gap-x-2">
              <div id="copytext" class="text-primary"></div>
              <div id="copybtn" class="i-ion-copy-outline cursor-pointer"></div>
            </div>
          </div>
          <div id="mysite">
            <div>名称：伴夜</div>
            <div>描述：伴夜的个人博客</div>
            <div>地址：https://www.aitimi.cn</div>
            <div>头像：https://www.aitimi.cn/logo.png</div>
          </div>
        </div>
        <h3>友情链接</h3>
        <div class="flex gap-4 flex-wrap">
          {
            FriendList.map((friend) => (
              <a
                href={friend.link}
                target="_blank"
                class="bg-color px-4 pt-2 pb-4 rounded flex items-center gap-4 min-w-1/3 sm:flex-1 <sm:w-full"
              >
                <img
                  class="max-h-15 w-15 object-cover"
                  src={friend.logo}
                  alt={friend.name}
                />
                <div>
                  <h3 class="text-primary">
                    {friend.name}
                    <div class="i-ion-ios-link" />
                  </h3>
                  <div class="text-hint">{friend.desc}</div>
                </div>
              </a>
            ))
          }
        </div>
      </section>
    </main>
    <div
      class="text-stroke-1 select-none pointer-events-none text-stroke-gray/10 text-transparent text-60 <sm:text-30 font-bold absolute right-8 top-1/2"
    >
      {year}
    </div>
    <Footer />
    <script>
      const copybtn = document.querySelector("#copybtn");
      const copytext = document.querySelector("#copytext");
      const mysite = document.querySelector("#mysite");
      copybtn?.addEventListener("click", async () => {
        try {
          if (mysite?.textContent) {
            await navigator.clipboard.writeText(mysite?.textContent);
            if (copytext) copytext.innerHTML = "copied!";
          }
        } catch {
        } finally {
          setTimeout(() => {
            if (copytext) copytext.innerHTML = "";
          }, 500);
        }
      });
    </script>
  </body>
</html>
